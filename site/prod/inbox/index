<!DOCTYPE html><html lang=en> <head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><title>Inbox</title><base href=http://localhost:8000><meta name=Generator content=Pagegen><link rel="shortcut icon" href=http://localhost:8000/assets/theme/images/favicon.ico type=image/x-icon><link rel=stylesheet href=https://pro.fontawesome.com/releases/v5.10.0/css/all.css integrity=sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p crossorigin=anonymous><link rel=stylesheet href=http://localhost:8000/assets/theme/css/site.css type=text/css><script src=http://localhost:8000/assets/theme/javascript/site.js></script></head> <body> <div id=page class=clearfix> <i class="fas fa-bars" id=hamburger onclick=toggle_sidebar();></i> <div id=sidebar> <a id=page_logo href=http://localhost:8000><img src=http://localhost:8000/assets/theme/images/pagegen_150x28.png alt=Pagegen></a> <p id=blurb>Every page is a file<br><span>Static site generator</span></p> <div id=search-form> <form action=http://localhost:8000/search.html method=GET> <input type=text id=search-query name=q> <input type=submit id=search-submit value=Search> </form> </div> <div id=menu><ol><li><a href=http://localhost:8000/ >content</a></li><li><a href=http://localhost:8000/inbox/ id=pagegen-current-page>Inbox</a></li><li><a href=http://localhost:8000/references/ >References</a></li><li><a href=http://localhost:8000/thoughts/ >Thoughts</a></li></ol></div> </div><!-- /sidebar --> <article id=content> <h1>Inbox</h1> <ol> </ol> <div id=footer>Copyright &#169; 2022 &#8212; Generated by <a href=https://pagegen.phnd.net><img src=http://localhost:8000/assets/theme/images/pagegen_54x10.png></a></div> </article><!-- /content --> </div><!-- /page --> <script>
function toggle_sub_menu(i) {
  var ol = i.nextSibling;
  if (ol.style.display == 'block') {
    ol.style.display = 'none'
    i.className = toggle_show_sub_menu;
  }
  else {
    ol.style.display = 'block';
    i.className = toggle_hide_sub_menu;
  }
}


function show_current_page_parent_menues(obj) {
  if (typeof obj === 'undefined') return;

  if (obj.id == 'menu') return;

  if (obj.parentElement.tagName == 'OL') {
    obj.parentElement.style.display = 'block';
  }

  show_current_page_parent_menues(obj.parentElement);
}


var ols = document.querySelectorAll('#menu ol');
var toggle_show_sub_menu = 'sub-menu-toggle fas fa-angle-down';
var toggle_hide_sub_menu = 'sub-menu-toggle fas fa-angle-up';


for (var i = 0; i < ols.length; i++) {

  if (ols[i].parentElement.tagName === 'LI') {

    ols[i].style.display = 'none'; // Hide sub menu

    // Create icon to toggle sub menu
    var toggle_icon = document.createElement('i');
    toggle_icon.className = toggle_show_sub_menu;
    toggle_icon.onclick = function(event){
      toggle_sub_menu(this);
    }

    ols[i].parentNode.insertBefore(toggle_icon, ols[i]);
  }
}


show_current_page_parent_menues(document.querySelectorAll('#pagegen-current-page')[0]);
    </script> <script>var sleep = time => new Promise(resolve => setTimeout(resolve, time))
var poll = (promiseFn, time) => promiseFn().then(
  sleep(time).then(() => poll(promiseFn, time))
)

var page_loaded_at = new Date();
var url = '/pagegen_site_hash';
var poll_intervall = 1000 // ms

poll(() => new Promise(() => {
  var http = new XMLHttpRequest();
  http.open('HEAD', url);
  http.onreadystatechange = function() {
    if (this.readyState == this.DONE) {
      var last_modified = new Date(this.getResponseHeader("Last-Modified"));
      if (last_modified > page_loaded_at) {
        window.location.reload();
      }
    }
  };
  http.send();
}), poll_intervall)
</script></body> </html> 